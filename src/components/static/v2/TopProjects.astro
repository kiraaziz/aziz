---
import { projects } from "@/lib/data";
import { Button } from "@/components/ui/button";
import { useHalfText } from "@/pages/index.astro";
import { Icon } from "astro-icon";
import { Compass } from "lucide-react";
---

<div class="w-full">
    <div class="flex items-center justify-between w-full">
        <h1 class="text-lg lg:text-xl font-bold">Top apps</h1>
        <a
            class="text-sm font-light text-foreground/60 gap-2 transition-all ease-in-out duration-200 lg:hover:gap-5 flex items-center justify-center"
            href="/project"
        >
            Read more
            <Icon name="lucide:arrow-right" size="20" />
        </a>
    </div>
    <div class="mt-4 grid grid-cols-1 lg:grid-cols-3 gap-2">
        {
            projects.map(
                (p, index) =>
                    p.logo && (
                        <a
                            href={`/project/${index}`}
                            class="w-full flex-col flex  bg-muted/20 p-2  border rounded-md"
                        >
                            <div class="gap-1 flex items-center justify-center w-full">
                                <div class="h-10 w-10 flex items-center justify-center overflow-visible relative">
                                    <img
                                        src={`/svg/${p.logo}`}
                                        class={`${p.logo.includes("png") ? "h-7 -translate-y-0.5 " : "h-8"} `}
                                    />
                                    <img
                                        src={`/svg/${p.logo}`}
                                        class={`${p.logo.includes("png") ? "h-7 -translate-y-0.5 " : "h-8"} hidden lg:block absolute blur-xl `}
                                    />
                                </div>
                                <div class="w-full flex-1">
                                    <h1 class="font-bold mr-2 ml-1 text-foreground/80">
                                        {p.name}
                                    </h1>
                                    <p class="text-sm text-foreground/60 w-full">
                                        {useHalfText(p.description, 30)}
                                    </p>
                                </div>
                            </div>
                        </a>
                    ),
            )
        }
    </div>
</div>
